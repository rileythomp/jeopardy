<div id='players-container' class='flex-column'>
	<div class='player-box flex-column' *ngFor="let p of game.Players()">
		<div class='player-score' [ngStyle]="{'color': p.score < 0 ? 'red' : 'black'}">
			{{ p.score < 0 ? '-' : '' }}${{ abs(p.score) }}
		</div>
		<div class='player-name'>
			<div>
				<ion-icon *ngIf="p.id == player.Id()" name="person-outline"></ion-icon>
			</div>
			<div>
				{{ p.conn ? p.name : 'Waiting for player to join' }}
			</div>
		</div>
		<div>
			<ion-icon *ngIf="!game.BoardIntro() && !game.IsPaused() && (p.canPick || p.canBuzz || p.canAnswer || p.canVote || p.canWager)" name="timer-outline"></ion-icon>
		</div>
	</div>
</div>

<div id='game-container'>
	<div id='game-state'>
		<app-board-intro *ngIf="game.BoardIntro()"></app-board-intro>
		<app-pre-game *ngIf="game.PreGame()" [gameName]="game.Name()"></app-pre-game>
		<app-recv-pick *ngIf="game.RecvPick()"></app-recv-pick>
		<app-recv-buzz *ngIf="game.RecvBuzz()"></app-recv-buzz>
		<app-recv-ans *ngIf="game.RecvAns()"></app-recv-ans>
		<app-recv-vote *ngIf="game.RecvVote()"></app-recv-vote>
		<app-recv-wager *ngIf="game.RecvWager()"></app-recv-wager>
		<app-post-game *ngIf="game.PostGame()"></app-post-game>

		<div id='countdown-bar' class='flex-row'></div>
	</div>
</div>

<app-chat></app-chat>

<div id='game-controls'>
	<div id='jeopardy-music' class='game-control'>
		<ion-icon (click)="stopMusic()" *ngIf="playMusic" name="volume-high-outline"></ion-icon>
		<ion-icon (click)="startMusic()" *ngIf="!playMusic" name="volume-mute-outline"></ion-icon>
		<div class='control-info' *ngIf="showMusicInfo">
			<ion-icon name="chevron-up-outline"></ion-icon>
			<p>Click for Jeopardy music</p>
		</div>
		<audio loop #jeopardyAudio>
			<source src="../../assets/jeopardy_music.mp3" />
		</audio>
	</div>
	
	<div id='pause-game' *ngIf='!game.InDispute()' class='game-control'>
		<ion-icon (click)="resumeGame()" *ngIf="game.IsPaused()" name="play"></ion-icon>
		<ion-icon (click)="pauseGame()" *ngIf="!game.IsPaused()" name="pause"></ion-icon>
		<div class='control-info' *ngIf="showPauseGame">
			<ion-icon name="chevron-up-outline"></ion-icon>
			<p>Click to pause the game</p>
		</div>
	</div>
</div>

<app-modal></app-modal>